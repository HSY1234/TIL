# 함수

자바스크립트에서는 함수는 일급객체다.

일급객체는

1. 모든 요소는 함수의 실제 매개변수가 될 수 있다.
2. 모든 요소는 함수의 반환 값이 될 수 있다.
3. 모든 요소는 할당 명령문의 대상이 될 수 있다.
4. 모든 요소는 동일 비교의 대상이 될 수 있다.

## 함수를 선언하는 6가지 방법

1. **함수 선언식(Function Declaration)**  
   함수 리터럴형태로 반드시 함수명이 정의 되어있어야한다. 실제로 자바스크립트 엔진에서는 함수 선언식을 해당 함수명을 이름으로 가지는 함수변수명 변수를 생성해 함수 표현식으로 변경한다.  
   즉 자바스크립트는 전부 함수 표현식이다.  
   함수 선언식은 `;`을 붙이지 않는다.

```js
function 함수명() {
  //구현
}

함수명(); //호출
```

2. **익명 함수 표현식(Anonymous Function Expressions)**  
   함수 리터럴로 하나의 함수를 만드고, 여기서 생성된 함수를 변수에 할당하여 함수를 생성하는 방법  
   함수의 이름이 선택사항이고, 보통 사용하지 않는다. 이를 `익명함수`라고 한다.  
   표현식은 클로저와 콜백에 매우 유용하다.

```js
var 함수변수명 = function () {
  //구현
};

함수변수명(); //호출
```

3. **명명(기명) 함수 표현식(Named Function Expression)**  
   함수 표현식에 함수명을 쓰지 않는게 일반적이지만, 해당 함수 내부에서 재귀적으로 호출하거나 디버거 등에서 함수르 구분할때 사용된다. 즉 외부에서 함수명으로 호출시 에러가 발생한다!

```js
var 함수변수명 = function 함수명() {
  // 구현
};
함수변수명(); //호출
함수명(); // error! 이런식으로 호출 불가! 외부코드에서는 접근이 불가능하다.
```

재귀

```js
var factorialVar = function factorial(n) {
  if (n <= 1) {
    return 1;
  }
  return n * factorial(n - 1);
};

console.log(factorialVar(4)); //24
console.log(factorial(4)); // undefined
```

4. Function() 생성자 함수를 통한 함수 생성  
   거의 사용하지 않는다. 함수 역시 객체이기 때문에 함수를 생성자를 이용해 생성이 가능하고 이를 Function() 생성자 함수라고 한다. 객체 생성하듯이 `new` 키워드로 함수 생성

```js
var add = new Function("x", "y", "return x+y");
```

5. 즉시 실행 함수(immediate functons)  
   함수를 정의함과 동시에 바로 실행하는 함수를 `즉시 실행 함수`라고 한다. 이 함수는 익명함수를 응용한 형태이다.

```js
(fucntion (name){
  console.log('This is the immediate function '+ name);
})('foo');
```

함수리터럴을 ()로 둘러싼다. 함수의 이름이 있든 없든 상관없다. 그런 다음 함수가 바로 호출될수 있게 ()쌍을 뒤에 추가한다. 만약 인자가 필요하다면 함수 호출할때처럼 안에 넣어준다.  
이렇게 함수가 선언되자마자 실행되게 만든 즉시 실행 함수의 경우, 같은 함수를 다시 호출할수 없다.  
`최초 한 번의 실행만을 필요로 하는 초기화 코드 부분`에 사용 할 수 있다.  
일반적으로 자바스크립트 라이브러리나 프레임워크 소스들에 사용되는데, jQuery 소스의 경우 소스코드 전체가 즉시 실행함수로 감싸져 있다. 이렇게 하는 이유는 자바스크립트의 변수 유효 범위 특성 때문이다. 자바스크립트에서는 `함수 유효 범위`를 지원하는데 이렇게 감싸지 않으면 라이브러리 코드가 전역 네임스페이스를 더럽히게 되어 충돌이 발생하게 된다. 이런 충돌을 예방할수 있다.

6. 화살표 함수
