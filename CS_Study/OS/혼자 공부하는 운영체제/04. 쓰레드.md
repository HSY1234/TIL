# 스레드(thread)

- 스레드는 실행의 단위
- 여기서는 소프트웨어 스레드를 다룬다(하드웨어는 컴퓨터 구조를 참고)
- 스레드란 프로세스를 구성하는 실행의 흐름 단위
- 하나의 프로세스는 여러개의 스레드를 가질수 있고, 스레드를 통해 하나의 프로세스의 여러부분을 동시에 실행가능

## 프로세스와 스레드

- 전통적으로 하나의 프로세스는 하나의 일만 했다.
- 즉 실행 흐름이 한개였고, **단일 스레드 프로세스**였다
- 현대의 프로그램은 대부분 **멀티 스레드 프로세스**
- 한 프로세스 내에서 여러 스레드를 돌리기 위해 각 스레드 마다 값을 가진다
  - 스레드 ID
  - PC를 비롯한 레지스터값
  - 스택
  - 등등을 가진다
- 스레드들은 스레드 실행에 필요한 최소한의 정보만 따로 가지고, 프로세스의 나머지 **자원은 공유**
- 운영체제는 CPU에 프로세스가 아닌 스레드 단위로 전달한다
- 리눅스는 프로세스와 스레드를 구분하지 않고 **태스크**(task)로 통일
- 리누스 토발즈는 실행의 문맥(context of execution )이라고 설명

## 멀티 프로세스와 멀티 스레드

- 여러 프로세스를 동시에 실행하는 것이 **멀티 프로세스**
- 여러 스레드로 한 프로세스를 동시에 실행하는 것을 **멀티 스레드**
- 일반적으로 프로세스끼리는 자원을 공유하지 않는다(공유하는 방법은 존재)
  - 프로세스 간 통신(IPC, Inter-Process Communication)
  - 공유메모리(shared memory)
  - 소켓
  - 파이프
- 만약 같은 간단한 같은 행동을 하는 결과를 여러개 얻고 싶으면 같은 프로그램을 여러개 돌리기보다, 스레드로 한 프로세스를 여러번 돌리는게 메모리공간도 적게 쓰고 효율이 좋다
- 그러나 프로세스의 자원을 공유하기 때문에 문제발생
  - 프로세스에 문제가 생겨도 다른 프로세스끼리는 영향이 없지만 스레드는 문제가 발생
  - 공유한다는 특성에서 동기화 문제, 교착 상태 발생

## 실습
