# 파일과 디렉터리

## 파일 (file)

- 하드디스크나 SSD 같은 보조기억장치에 저장된 정보의 집합
- 파일은 의미있고 관련 있는 정보를 모은 논리적 단위
- **속성**(attribute) or **메타데이터**(meta data): 파일의 이름, 파일을 실행하기 위한 정보, 파일 관련 부가 정보
- 파일 우클릭 속성을 보면 **파일 속성**을 확인할수 있다
- 파일 속성
  - 유형 : 운영체제가 인지하는 파일의 종류
  - 크기 : 파일의 현재 크기와 허용 가능한 최대 크기
  - 보호 : 어떤 사용자가 해당 파일을 읽고, 쓰고, 실행할 수 있는지를 나타낸
  - 생성 날짜 : 파일이 생성된 날짜
  - 마지막 접근 날짜 : 파일에 마지막으로 접근한 날짜
  - 마지막 수정 날짜 : 파일이 마지막으로 수정된 날짜
  - 생성자 : 파일을 생성한 사용자
  - 소유자 : 파일을 소유한 사용자
  - 위치 : 파일의 보조기억장치상의 현재 위치

## 파일 유형

- 운영체제가 인식하는 파일 종류를 나타낸다
- 같은 이름의 파일이라도 텍스트 파일, 실행 파일, 음악파일 처럼 종류에 따라 실행 방법이 다름
- 따라서 운영체제에게 파일 실행을 위해 파일 유형을 알려줌
- 파일 유형을 알리기 위해 가장 흔히 사용하는 방식은 **확장자**(extension)을 파일 이름뒤에 붙이는것
- 파일 유형
  - 실행 파일 : exe,com,bin
  - 목적 파일 : obj, o
  - 소스 코드 파일 : c, cpp, cc, java, sam, py
  - 워드 파일 : xml, rtf, doc, docx
  - 라이브러리 파일 : lib, a, so, dll
  - 멀티미디어 파일 : mpeg, mov, mp3, mp4, avi
  - 백업/보관 파일 : rar, zip, tar

## 파일 연산을 위한 시스템 호출

- 파일을 다루는 모든 작업은 운영체제에 의해 이뤄진다.
- 어떤 응용 프로그램도 임의로 파일 조작을 할수 없으며 파일을 다루려면 운영체제에게 부탁해야함 => 시스템 콜
- 파일 생성
- 파일 삭제
- 파일 열기
- 파일 닫기
- 파일 읽기
- 파일 쓰기

## 디렉터리

- **디렉터리**(directory) : 파일들을 일목요연하게 관리하기 위해 사용
- 윈도우는 **폴더**라고 부른다
- **1단계 디렉터리**(single-level directory) : 예전 운영체제는 하나의 디렉터리만 가짐, 모든 파일이 한 디렉터리 아래 존재
- **트리 구조 디렉터리** (tree-structured directory) : 많은 파일을 관리하기 위해 여러 계층의 디렉터리 구조 등장
- 트리 구조 디렉터리는 최상위 디렉터리가 있고, 그 아래 서브 디렉터리가 있다
- **루트 디렉터리** (root directory): 최상위 디렉터리 `/`로 보통 표현
- 윈도우는 루트 디렉터리를 `C:₩`로 보통 표현
- 트리 구조 디렉터리 때문에 자연스럽게 **경로**(path) 개념이 생김

## 경로(path)

- **절대 경로** (absoulte path) : 모든 파일이 루트 디렉터리에서 자기 자신까지 이르는 고유한 경로
- **상대 경로** (relative path) : 현재 디렉터리부터 시작하는 경로
  - 대부분의 운영체제는 `.`으로 현재 디렉터리를
  - `..`으로 상위 디렉터리를 표현한다
  - `./hello/a.c` : 현재 디렉터리의 하위 디렉터링니 hello 디렉터리의 a.c 파일
  - `cd ..` : 상위 디렉터리로 이동 (리눅스 명령어)
- 유닉스, 리눅스, macOS는 `/`를 사용해 루트 디렉터리를 표시하고, 디렉터리 사이 구분자로 사용
- 윈도우는 디렉터리 구분자로 `₩`로 사용한다

## 디렉터리 연산을 위한 시스템 호출

- 디렉터리 생성
- 디렉터리 삭제
- 디렉터리 열기
- 디렉터리 닫기
- 디렉터리 읽기

## 디렉터리 엔트리

- 디렉터리와 파일은 별개의 존재인가?
- 많은 운영체제에서 디렉터리를 **특별한 형태의 파일**로 간주함
- 파일은 내부에 파일과 관련된 정보를 담고있다 (메타 데이터)
- 디렉터리는 내부에 해당 디렉터리에 담겨있는 대상과 관련된 정보를 담고 있다
- 보통 테이블(표)형태로 구성
- 각 엔트리(행)에 담기는 정보는 파일 시스템별로 차이가 있다.
- 공통적으로 디렉터리에 포함된 대상의 이름, 대상이 보조기억장치내에 저장된 위치를 유추할수 있는 정보가 담겨있다
- 파일 시스템에 따라 디렉터리 엔트리에 파일 속성을 같이 명시하는 경우도 있음
- 예시
  - | 파일 이름 | 위치를 유추할 수 있는 정보 |
    | --------- | -------------------------- |
    | ..        |                            |
    | .         |                            |
    | a         |                            |
    | b         |                            |
  - 다른 디렉토리 역시 파일 취급할수 있으므로 디렉토리 테이블에 상대경로 이동할수 있게 저장 해둔다 (.. , .)
