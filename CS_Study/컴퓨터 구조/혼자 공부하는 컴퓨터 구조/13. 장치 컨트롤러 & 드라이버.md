# 입출력 장치 컨트롤러와 장치 드라이버

- 보조기억장치도 크게 보면 컴퓨터 내부와 정보를 주고 받는 입출력장치이기 때문에 원리는 비슷

# 장치 컨트롤러

- 입출력장치는 종류가 너무 다양해 CPU, 메모리보다 다루기가 어렵다
- 장치마다 속도, 데이터 전송 형식등이 전부 다르기 떄문
- CPU와 메모리의 데이터 전송률(transfer rate)는 높지만 입출력 장치는 낮다
- 전송률은 데이터를 얼마나 빨리 교환할 수 있는지를 표현한 값
- 이러한 이유로 컴퓨터와 입출력 장치를 중계해줄수 있는 장치 컨트롤러(device controller)가 등장
- 입출력 제어기(I/O controller), 입출력 모듈(I/O module)이라고 표현하기도 함

- 버스 - 장치 컨트롤러 - 입출력장치 구조로 되어있다

## 장치 컨트롤러의 역할

- CPU와 입출력장치간의 통신 중개
- 오류 검출
- 데이터 버퍼링

## 데이터 버퍼링(data buffering)

- 전송률이 높은 장치와 전송류이 낮은 장치 사이에 데이터를 buffer라는 임시 공간에 저장하여 전송률을 비슷하게 맞추는 방법
- 즉 조금씩 계속 주고 받는것이 아닌
  - 데이터를 버퍼에 계속 모아서 한번에 크게 내보내거나
  - 한번에 데이터를 많이 받아서 버퍼에서 조금씩 내보내는 방법
- 전송률이 높은 CPU와 전송률이 낮은 입출력장치의 전송률차이를 데이터 버퍼링으로 완화

## 장치 컨트롤러의 구성

- 데이터 레지스터(data register) : CPU와 입출력장치 사이에 주고 받는 데이터가 담기는 레지스터 => 버퍼 역할 (최근에는 주고받는 데이터가 많은 경우 입출력장치에도 RAM을 두고 대신 사용)
- 상태 레지스터(status register) : 입출력장치가 입출력 작업을 할 준비가 되었는지. 작업이 완료 되었는지, 오류가 없는지 상태 저장
- 제어 레지스터(control register) : 입출력장치가 수행할 내용에 대한 제어정보와 명령을 저장
- 등등

# 장치 드라이버

- 컴퓨터에 새 입출력장치를 연결하면 장치 드라이버를 설치해야 사용가능
- 장치 드라이버(device driver)란 장치 컨트롤러의 동작을 감지하고 제어함으로써 장치 컨트롤러가 컴퓨터와 정보를 주고받을수 있게 하는 프로그램
- 프로그램이므로 메모리에 저장되고 사용됨
- 즉 장치 컨트롤러 = 하드웨어, 장치 드라이버 = 소프트웨어
- 드라이버가 없다면 컴퓨터는 장치를 인식하거나 실행할수 없다.
- 드라이버 관리는 운영체제가 한다
